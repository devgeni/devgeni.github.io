var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function a(){return d(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function p(t,n){n=""+n,t.data!==n&&(t.data=n)}function g(t,n){(null!=n||t.value)&&(t.value=n)}function h(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}function b(t,n,e){t.classList[e?"add":"remove"](n)}let $;function v(t){$=t}function y(t){(function(){if(!$)throw new Error("Function called outside component initialization");return $})().$$.on_mount.push(t)}const x=[],k=[],_=[],w=[],C=Promise.resolve();let j=!1;function E(t){_.push(t)}let P=!1;const M=new Set;function N(){if(!P){P=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];v(n),A(n.$$)}for(x.length=0;k.length;)k.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];M.has(n)||(M.add(n),n())}_.length=0}while(x.length);for(;w.length;)w.pop()();j=!1,P=!1,M.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const L=new Set;function I(t,n){-1===t.$$.dirty[0]&&(x.push(t),j||(j=!0,C.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function S(r,c,u,s,d,a,f=[-1]){const m=$;v(r);const p=c.props||{},g=r.$$={fragment:null,ctx:null,props:a,update:t,not_equal:d,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:[]),callbacks:e(),dirty:f};let h=!1;if(g.ctx=u?u(r,p,(t,n,...e)=>{const o=e.length?e[0]:n;return g.ctx&&d(g.ctx[t],g.ctx[t]=o)&&(g.bound[t]&&g.bound[t](o),h&&I(r,t)),n}):[],g.update(),h=!0,o(g.before_update),g.fragment=!!s&&s(g.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);g.fragment&&g.fragment.l(t),t.forEach(l)}else g.fragment&&g.fragment.c();c.intro&&((b=r.$$.fragment)&&b.i&&(L.delete(b),b.i(y))),function(t,e,r){const{fragment:c,on_mount:u,on_destroy:l,after_update:s}=t.$$;c&&c.m(e,r),E(()=>{const e=u.map(n).filter(i);l?l.push(...e):o(e),t.$$.on_mount=[]}),s.forEach(E)}(r,c.target,c.anchor),N()}var b,y;v(m)}const T=t=>t.toString().length>1?t+"":"0"+t,z=t=>T((t=>Math.floor(t/60))(t))+":"+T((t=>t%60)(t)),B=(t,n)=>Object.keys(t).filter(n);function O(t){let n;return{c(){n=d("You should")},m(t,e){u(t,n,e)},d(t){t&&l(n)}}}function q(t){let n;return{c(){n=d("It's")},m(t,e){u(t,n,e)},d(t){t&&l(n)}}}function R(t){let n;return{c(){n=d("break now")},m(t,e){u(t,n,e)},d(t){t&&l(n)}}}function Y(n){let e,o;return{c(){e=s("button"),e.textContent="pause"},m(t,i,r){u(t,e,i),r&&o(),o=f(e,"click",n[10])},p:t,d(t){t&&l(e),o()}}}function D(n){let e,o;return{c(){e=s("button"),e.textContent="start"},m(t,i,r){u(t,e,i),r&&o(),o=f(e,"click",n[9])},p:t,d(t){t&&l(e),o()}}}function F(t){let n,e;return{c(){n=d("done: "),e=s("br")},m(t,o){u(t,n,o),u(t,e,o)},d(t){t&&l(n),t&&l(e)}}}function H(t){let n,e,o=t[1].sign+"";return{c(){n=s("span"),e=d(o),h(n,"opacity","0.5")},m(t,o){u(t,n,o),c(n,e)},p(t,n){2&n&&o!==(o=t[1].sign+"")&&p(e,o)},d(t){t&&l(n)}}}function W(n){let e,i,r,$,v,y,x,k,_,w,C,j,E,P,M,N,A,L,I,S,T,W,G,J,K,Q,U,V,X,Z,tt,nt,et,ot,it,rt,ct,ut,lt,st,dt,at,ft,mt,pt,gt,ht,bt,$t,vt,yt,xt,kt=z(n[0])+"",_t=B(n[8],n[24])[0]+"",wt=n[3].join("")+"";function Ct(t,n){return 1!=t[1].id?q:O}document.title=e=n[7];let jt=Ct(n),Et=jt(n),Pt=1!=n[1].id&&R();function Mt(t,n){return t[2]?Y:D}let Nt=Mt(n),At=Nt(n),Lt=(n[3].length||n[2])&&F(),It=n[2]&&H(n);return{c(){i=a(),r=s("div"),$=s("h1"),v=d(kt),y=a(),x=s("h3"),x.textContent="Your time is up!",k=a(),_=s("p"),Et.c(),w=a(),C=s("strong"),j=d(_t),E=a(),Pt&&Pt.c(),P=a(),M=s("div"),N=s("div"),At.c(),A=a(),L=s("button"),L.textContent="reset",I=a(),S=s("div"),T=s("button"),T.textContent="20 min.",W=a(),G=s("button"),G.textContent="5 min.",J=a(),K=s("button"),K.textContent="10 min.",Q=a(),U=s("p"),U.textContent="Sound volume:",V=a(),X=s("div"),Z=s("div"),tt=s("div"),nt=d(n[4]),et=a(),ot=s("div"),it=s("button"),it.textContent="-",rt=a(),ct=s("button"),ct.textContent="+",ut=a(),lt=s("fieldset"),st=d("0 "),dt=s("input"),at=d("100\r\n\t\t"),ft=s("br"),mt=a(),pt=s("br"),gt=a(),ht=s("p"),ht.innerHTML="<strong>Legend:</strong>  <br>\n\t\t   <strong>o</strong>   focus time <br>\n\t\t   <strong>|</strong>   short break <br>\n\t\t   <strong>_</strong>   long break\n\t",bt=a(),$t=s("h2"),Lt&&Lt.c(),vt=a(),yt=d(wt),It&&It.c(),m($,"class","countdown"),m(x,"class","text-center font-bold"),b(x,"invisible",0!==n[0]),m(_,"class","hint"),h(_,"text-decoration",n[0]<=0?"line-through":"none"),m(L,"class","ml-6"),m(N,"class","flex justify-center mb-6"),b(T,"button-selected",1===n[1].id),b(G,"button-selected",2===n[1].id),b(K,"button-selected",3===n[1].id),m(S,"class","flex justify-between mb-6"),m(M,"class","mb-5"),m(U,"class","volume-text"),m(tt,"class","volume-handle"),m(Z,"class","volume-progress"),h(Z,"width",n[4]+"%"),m(X,"class","volume"),m(ct,"class","ml-6"),m(ot,"class","flex justify-center mt-6"),m(dt,"type","range"),m(dt,"step","10"),h(lt,"display","none"),m($t,"class","break-words"),m(r,"class","app")},m(t,e,l){u(t,i,e),u(t,r,e),c(r,$),c($,v),c(r,y),c(r,x),c(r,k),c(r,_),Et.m(_,null),c(_,w),c(_,C),c(C,j),c(_,E),Pt&&Pt.m(_,null),c(r,P),c(r,M),c(M,N),At.m(N,null),c(N,A),c(N,L),c(M,I),c(M,S),c(S,T),c(S,W),c(S,G),c(S,J),c(S,K),c(r,Q),c(r,U),c(r,V),c(r,X),c(X,Z),c(Z,tt),c(tt,nt),n[28](tt),n[29](X),c(r,et),c(r,ot),c(ot,it),c(ot,rt),c(ot,ct),c(r,ut),c(r,lt),c(lt,st),c(lt,dt),g(dt,n[4]),c(lt,at),c(lt,ft),c(lt,mt),c(lt,pt),c(r,gt),c(r,ht),c(r,bt),c(r,$t),Lt&&Lt.m($t,null),c($t,vt),c($t,yt),It&&It.m($t,null),l&&o(xt),xt=[f(L,"click",n[12]),f(T,"click",n[25]),f(G,"click",n[26]),f(K,"click",n[27]),f(it,"click",n[14]),f(ct,"click",n[13]),f(dt,"change",n[30]),f(dt,"input",n[30])]},p(t,[n]){128&n&&e!==(e=t[7])&&(document.title=e),1&n&&kt!==(kt=z(t[0])+"")&&p(v,kt),1&n&&b(x,"invisible",0!==t[0]),jt!==(jt=Ct(t))&&(Et.d(1),Et=jt(t),Et&&(Et.c(),Et.m(_,w))),2&n&&_t!==(_t=B(t[8],t[24])[0]+"")&&p(j,_t),1!=t[1].id?Pt||(Pt=R(),Pt.c(),Pt.m(_,null)):Pt&&(Pt.d(1),Pt=null),1&n&&h(_,"text-decoration",t[0]<=0?"line-through":"none"),Nt===(Nt=Mt(t))&&At?At.p(t,n):(At.d(1),At=Nt(t),At&&(At.c(),At.m(N,A))),2&n&&b(T,"button-selected",1===t[1].id),2&n&&b(G,"button-selected",2===t[1].id),2&n&&b(K,"button-selected",3===t[1].id),16&n&&p(nt,t[4]),16&n&&h(Z,"width",t[4]+"%"),16&n&&g(dt,t[4]),t[3].length||t[2]?Lt||(Lt=F(),Lt.c(),Lt.m($t,vt)):Lt&&(Lt.d(1),Lt=null),8&n&&wt!==(wt=t[3].join("")+"")&&p(yt,wt),t[2]?It?It.p(t,n):(It=H(t),It.c(),It.m($t,null)):It&&(It.d(1),It=null)},i:t,o:t,d(t){t&&l(i),t&&l(r),Et.d(),Pt&&Pt.d(),At.d(),n[28](null),n[29](null),Lt&&Lt.d(),It&&It.d(),o(xt)}}}function G(t,n,e){const o={focus:{id:1,time:1200,sign:"o"},short:{id:2,time:300,sign:"|"},long:{id:3,time:600,sign:"_"}};Notification.requestPermission().then(t=>{console.log("Notification permission",t)});const i=new Audio("media/digital-alarm.mp3");let r,c,u,l=o.focus.time,s=o.focus,d=!1,a=null,f=[],m=50;const p=()=>i.play(),g=()=>{new Notification("Pomdoro! Time's up",{body:"Click to get back to your timer!"})},h=()=>{clearInterval(a),a=setInterval(()=>{e(0,l--,l)},1e3),e(2,d=!0)},b=()=>{clearInterval(a),e(2,d=!1)},$=t=>{e(0,l=o[t].time),e(1,s=o[t]),h()},v=()=>{const t=c.getBoundingClientRect().left,n=c.getBoundingClientRect().right;return{start:t,end:n,size:n-t}},x=()=>u.clientWidth,_=t=>{const n=10*Math.ceil(t/10)-t;return n>0?n:10},w=t=>{const{start:n,end:e,size:o}=v();return t*o/100+n-x()/2};y(()=>{const{start:t,end:n}=v(),o=x();r=new PlainDraggable(u,{containment:c,onMove:({left:i})=>{const r=(i-t)/(n-t-o)*100;e(4,m=Math.floor(r))}})});let C;return t.$$.update=()=>{11&t.$$.dirty&&l<=0&&(e(0,l=0),b(),e(3,f=[...f,s.sign]),g()),5&t.$$.dirty&&!d&&l<=0&&p(),16&t.$$.dirty&&(i.volume=m/100),1&t.$$.dirty&&e(7,C=0==l?"Pomdoro! Time's up!":`Pomdoro ${z(l)}`)},[l,s,d,f,m,c,u,C,o,h,b,$,()=>{b(),e(0,l=s.time)},()=>{m>=100||(e(4,m+=_(m)),r.left=w(m))},()=>{if(m<=0)return;const t=_(m);e(4,m-=t<10?10-t:10),r.left=w(m)},i,a,r,p,g,v,x,_,w,t=>o[t].id==s.id,()=>$("focus"),()=>$("short"),()=>$("long"),function(t){k[t?"unshift":"push"](()=>{e(6,u=t)})},function(t){k[t?"unshift":"push"](()=>{e(5,c=t)})},function(){var t;t=this.value,m=""===t?void 0:+t,e(4,m)}]}return new class extends class{$destroy(){!function(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}{constructor(t){super(),S(this,t,G,W,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
